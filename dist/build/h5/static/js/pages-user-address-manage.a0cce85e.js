(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-address-manage"],{"0d21":function(e,t,r){"use strict";var i=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("ac6a"),r("96cf");var a=i(r("1da1"));r("c5f6");var n=r("2b74"),d={props:{defaultLevel:{type:Number,default:3},addressData:{type:Object,default:function(){return{}}}},data:function(){return{multiArray:[],multiIndex:[0,0,0],multiStr:""}},mounted:function(){this.$mHelper.log(this.addressData),this.getProvinceList()},methods:{getProvinceList:function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(){var t,r,i,d,s,o,u=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=0,r=0,i=0,d=null,s=null,o=null,e.next=8,this.$http.get("".concat(n.provinceList)).then(function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(l){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u.multiArray[0]=l.data,u.addressData.province_id?l.data.forEach((function(e,r){parseInt(e.id,10)===parseInt(u.addressData.province_id,10)&&(t=r,u.addressData.province_id=e.id,d=e.title)})):(u.addressData.province_id=u.multiArray[0][0].id,d=u.multiArray[0][0].title),e.next=4,u.$http.get("".concat(n.provinceList),{pid:u.addressData.province_id}).then(function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u.multiArray[1]=a.data,u.addressData.city_id?a.data.forEach((function(e,t){parseInt(e.id,10)==parseInt(u.addressData.city_id,10)&&(r=t,u.addressData.city_id=e.id,s=e.title)})):(u.addressData.city_id=u.multiArray[1][0].id,s=u.multiArray[1][0].title),e.next=4,u.$http.get("".concat(n.provinceList),{pid:u.addressData.city_id}).then((function(e){u.multiArray[2]=e.data,u.addressData.area_id?e.data.forEach((function(e,t){parseInt(e.id,10)==parseInt(u.addressData.area_id,10)&&(i=t,u.addressData.area_id=e.id,o=e.title)})):(u.addressData.area_id=u.multiArray[2][0].id,o=u.multiArray[2][0].title),u.multiIndex=[t,r,i],u.multiStr="".concat(d,", ").concat(s,", ").concat(o),u.$emit("getRegions",u.addressData)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),bindMultiPickerColumnChange:function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(t){var r,i,d,s,o,u,l=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.multiIndex[t.detail.column]=t.detail.value,r=0,i=0,d=0,s=null,o=null,u=null,e.t0=t.detail.column,e.next=0===e.t0?10:1===e.t0?16:2===e.t0?26:28;break;case 10:if(this.multiIndex[0]!==this.multiIndex[0]){e.next=15;break}return this.addressData.province_id=this.multiArray[0][t.detail.value].id,s=this.multiArray[0][t.detail.value].title,e.next=15,this.$http.get("".concat(n.provinceList),{pid:this.multiArray[0][t.detail.value].id}).then(function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(i){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return l.multiArray[1]=i.data,l.addressData.city_id=l.multiArray[1][0].id,o=l.multiArray[1][0].title,r=t.detail.value,e.next=6,l.$http.get("".concat(n.provinceList),{pid:l.multiArray[1][t.detail.column].id}).then((function(e){l.multiArray[2]=e.data,l.addressData.area_id=l.multiArray[2][0].id,u=l.multiArray[2][0].title,l.multiIndex=[r,0,0],l.multiStr="".concat(s,", ").concat(o,", ").concat(u)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:return e.abrupt("break",28);case 16:if(this.multiIndex[0]!==this.multiIndex[0]){e.next=25;break}if(this.multiIndex[1]!==this.multiIndex[1]){e.next=25;break}return this.addressData.province_id=this.multiArray[0][this.multiIndex[0]].id,s=this.multiArray[0][this.multiIndex[0]].title,this.addressData.city_id=this.multiArray[1][t.detail.value].id,o=this.multiArray[1][t.detail.value].title,i=t.detail.value,e.next=25,this.$http.get("".concat(n.provinceList),{pid:this.multiArray[1][t.detail.value].id}).then((function(e){l.multiArray[2]=e.data,l.addressData.area_id=l.multiArray[2][0].id,u=l.multiArray[2][0].title,l.multiIndex=[l.multiIndex[0],i,0],l.multiStr="".concat(s,", ").concat(o,", ").concat(u)}));case 25:return e.abrupt("break",28);case 26:return this.multiIndex[0]===this.multiIndex[0]&&this.multiIndex[1]===this.multiIndex[1]&&this.multiIndex[2]===this.multiIndex[2]&&(this.addressData.province_id=this.multiArray[0][this.multiIndex[0]].id,s=this.multiArray[0][this.multiIndex[0]].title,this.addressData.city_id=this.multiArray[1][this.multiIndex[1]].id,o=this.multiArray[1][this.multiIndex[1]].title,this.addressData.area_id=this.multiArray[2][t.detail.value].id,u=this.multiArray[2][t.detail.value].title,d=t.detail.value,this.multiIndex=[this.multiIndex[0],this.multiIndex[1],d],this.multiStr="".concat(s,", ").concat(o,", ").concat(u)),e.abrupt("break",28);case 28:this.$emit("getRegions",this.addressData);case 29:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}};t.default=d},"35ac":function(e,t,r){var i=r("38c1");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=r("4f06").default;a("588dcc4e",i,!0,{sourceMap:!1,shadowMode:!1})},"38c1":function(e,t,r){var i=r("24fb");t=i(!1),t.push([e.i,"uni-page-body[data-v-02f8629c]{background:#f8f8f8}.address-manage[data-v-02f8629c]{padding-top:%?16?%}body.?%PAGE?%[data-v-02f8629c]{background:#f8f8f8}",""]),e.exports=t},4706:function(e,t,r){"use strict";var i;r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){return i}));var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-picker",{attrs:{mode:"multiSelector",value:e.multiIndex,"range-key":"title",range:e.multiArray},on:{columnchange:function(t){arguments[0]=t=e.$handleEvent(t),e.bindMultiPickerColumnChange.apply(void 0,arguments)}}},[e._v(e._s(e.multiStr))])},n=[]},5333:function(e,t,r){"use strict";var i;r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){return i}));var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",{staticClass:"address-manage rf-row-wrapper"},[r("v-uni-view",{staticClass:"row b-b"},[r("v-uni-text",{staticClass:"tit"},[e._v("联系人")]),r("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"收货人姓名","placeholder-class":"placeholder"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.handleRealNameChange.apply(void 0,arguments)}},model:{value:e.addressData.realname,callback:function(t){e.$set(e.addressData,"realname",t)},expression:"addressData.realname"}})],1),r("v-uni-view",{staticClass:"row b-b"},[r("v-uni-text",{staticClass:"tit"},[e._v("手机号")]),r("v-uni-input",{staticClass:"input",attrs:{type:"number",placeholder:"收货人手机号码","placeholder-class":"placeholder"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.handleMobileChange.apply(void 0,arguments)}},model:{value:e.addressData.mobile,callback:function(t){e.$set(e.addressData,"mobile",t)},expression:"addressData.mobile"}})],1),r("v-uni-view",{staticClass:"row b-b"},[r("v-uni-text",{staticClass:"tit"},[e._v("选择地址")]),r("rf-pick-regions",{attrs:{addressData:e.addressData},on:{getRegions:function(t){arguments[0]=t=e.$handleEvent(t),e.handleGetRegions.apply(void 0,arguments)}}})],1),r("v-uni-view",{staticClass:"row b-b"},[r("v-uni-text",{staticClass:"tit"},[e._v("详细地址")]),r("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入详细地址","placeholder-class":"placeholder"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.bindAddressDetailsChange.apply(void 0,arguments)}},model:{value:e.addressData.address_details,callback:function(t){e.$set(e.addressData,"address_details",t)},expression:"addressData.address_details"}})],1),r("v-uni-view",{staticClass:"row default-row"},[r("v-uni-text",{staticClass:"tit"},[e._v("设为默认")]),r("v-uni-switch",{attrs:{checked:!!e.addressData.is_default,color:e.themeColor.color},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.switchChange.apply(void 0,arguments)}}})],1),r("v-uni-button",{staticClass:"add-btn",class:"bg-"+e.themeColor.name,attrs:{disabled:e.btnLoading,loading:e.btnLoading},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.confirm.apply(void 0,arguments)}}},[e._v("提交")]),r("rfLoading",{attrs:{isFullScreen:!0,active:e.loading}})],1)},n=[]},"7d57":function(e,t,r){"use strict";r.r(t);var i=r("5333"),a=r("b162");for(var n in a)["default"].indexOf(n)<0&&function(e){r.d(t,e,(function(){return a[e]}))}(n);r("d86e");var d,s=r("f0c5"),o=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"02f8629c",null,!1,i["a"],d);t["default"]=o.exports},"802d":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uploadImage=t.thirdPartyAuthList=t.thirdPartyAuthDelete=t.rechargeConfigIndex=t.productVirtualVerificationVerify=t.orderTakeDelivery=t.orderRefundApply=t.orderProductVirtualView=t.orderProductVirtualIndex=t.orderProductSalesReturn=t.orderProductIndex=t.orderList=t.orderInvoiceList=t.orderInvoiceCreate=t.orderDetail=t.orderDelete=t.orderCustomerSalesReturn=t.orderCustomerRefundClose=t.orderCustomerRefundApply=t.opinionList=t.opinionDetail=t.opinionCreate=t.notifyView=t.notifyUnRreadCount=t.notifySubscriptionConfigUpConfig=t.notifySubscriptionConfigIndex=t.notifyReadAll=t.notifyRead=t.notifyIndex=t.notifyClearAll=t.notifyClear=t.myCouponList=t.memberUpdate=t.memberLevelIndex=t.memberInfo=t.invoiceUpdate=t.invoiceList=t.invoiceDetail=t.invoiceDel=t.invoiceDefault=t.invoiceCreate=t.footPrintList=t.footPrintDel=t.evaluateCreate=t.evaluateAgain=t.creditsLogList=t.couponReceive=t.couponList=t.couponDetail=t.couponClear=t.collectList=t.closeOrderRefundApply=t.addressUpdate=t.addressList=t.addressDetail=t.addressDelete=t.addressDefault=t.addressCreate=void 0;var i="/tiny-shop/v1/member/member/index";t.memberInfo=i;var a="/tiny-shop/v1/member/member/update";t.memberUpdate=a;var n="/tiny-shop/v1/member/address/index";t.addressList=n;var d="/tiny-shop/v1/member/address/default";t.addressDefault=d;var s="/tiny-shop/v1/member/address/view";t.addressDetail=s;var o="/tiny-shop/v1/member/address/create";t.addressCreate=o;var u="/tiny-shop/v1/member/address/update";t.addressUpdate=u;var l="/tiny-shop/v1/member/address/delete";t.addressDelete=l;var c="/tiny-shop/v1/marketing/coupon-type/index";t.couponList=c;var v="/tiny-shop/v1/member/coupon/index";t.myCouponList=v;var m="/tiny-shop/v1/marketing/coupon-type/view";t.couponDetail=m;var p="/tiny-shop/v1/marketing/coupon-type/create";t.couponReceive=p;var h="/tiny-shop/v1/member/coupon/clear";t.couponClear=h;var f="/tiny-shop/v1/member/order/index";t.orderList=f;var y="/tiny-shop/v1/member/order/take-delivery";t.orderTakeDelivery=y;var b="/tiny-shop/v1/member/order-product/refund-apply";t.orderRefundApply=b;var g="/tiny-shop/v1/member/order-product/refund-sales-return";t.orderProductSalesReturn=g;var x="/tiny-shop/v1/member/order-product/refund-close";t.closeOrderRefundApply=x;var D="/tiny-shop/v1/member/order/view";t.orderDetail=D;var _="/tiny-shop/v1/member/order/delete";t.orderDelete=_;var C="/tiny-shop/v1/member/footprint/index";t.footPrintList=C;var w="/tiny-shop/v1/member/footprint/delete";t.footPrintDel=w;var A="/tiny-shop/v1/member/collect/index";t.collectList=A;var I="/tiny-shop/v1/member/credits-log/index";t.creditsLogList=I;var R="/tiny-shop/v1/member/evaluate/create";t.evaluateCreate=R;var L="/tiny-shop/v1/member/evaluate/again";t.evaluateAgain=L;var k="/tiny-shop/v1/member/order-product/index";t.orderProductIndex=k;var $="/tiny-shop/v1/member/invoice/index";t.invoiceList=$;var P="/tiny-shop/v1/member/invoice/create";t.invoiceCreate=P;var S="/tiny-shop/v1/member/invoice/update";t.invoiceUpdate=S;var V="/tiny-shop/v1/member/invoice/view";t.invoiceDetail=V;var E="/tiny-shop/v1/member/invoice/default";t.invoiceDefault=E;var U="/tiny-shop/v1/member/invoice/delete";t.invoiceDel=U;var O="/tiny-shop/v1/member/order-invoice/index";t.orderInvoiceList=O;var M="/tiny-shop/v1/member/order-invoice/create";t.orderInvoiceCreate=M;var j="/tiny-shop/v1/member/opinion/index";t.opinionList=j;var T="/tiny-shop/v1/member/opinion/create";t.opinionCreate=T;var H="/tiny-shop/v1/member/opinion/view";t.opinionDetail=H;var N="/tiny-shop/v1/member/auth/index";t.thirdPartyAuthList=N;var G="/tiny-shop/v1/member/auth/delete";t.thirdPartyAuthDelete=G;var J="/tiny-shop/v1/member/recharge-config/index";t.rechargeConfigIndex=J;var B="/tiny-shop/v1/member/order-customer/apply";t.orderCustomerRefundApply=B;var F="/tiny-shop/v1/member/order-customer/sales-return";t.orderCustomerSalesReturn=F;var q="/tiny-shop/v1/member/order-customer/close";t.orderCustomerRefundClose=q;var z="/tiny-shop/v1/common/file/images";t.uploadImage=z;var K="/tiny-shop/v1/member/notify/index";t.notifyIndex=K;var Q="/tiny-shop/v1/member/notify/view";t.notifyView=Q;var W="/tiny-shop/v1/member/notify/read";t.notifyRead=W;var X="/tiny-shop/v1/member/notify/read-all";t.notifyReadAll=X;var Y="/tiny-shop/v1/member/notify/clear";t.notifyClear=Y;var Z="/tiny-shop/v1/member/notify/clear-all";t.notifyClearAll=Z;var ee="/tiny-shop/v1/member/notify/un-read-count";t.notifyUnRreadCount=ee;var te="/tiny-shop/v1/member/notify-subscription-config/index";t.notifySubscriptionConfigIndex=te;var re="/tiny-shop/v1/member/notify-subscription-config/up-config";t.notifySubscriptionConfigUpConfig=re;var ie="/tiny-shop/v1/member/order-product-virtual/index";t.orderProductVirtualIndex=ie;var ae="/tiny-shop/v1/member/order-product-virtual/view";t.orderProductVirtualView=ae;var ne="/tiny-shop/v1/order/product-virtual-verification/verify";t.productVirtualVerificationVerify=ne;var de="/tiny-shop/v1/member/member-level/index";t.memberLevelIndex=de},b162:function(e,t,r){"use strict";r.r(t);var i=r("f0a5"),a=r.n(i);for(var n in i)["default"].indexOf(n)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(n);t["default"]=a.a},c1eb:function(e,t,r){"use strict";r.r(t);var i=r("4706"),a=r("f661");for(var n in a)["default"].indexOf(n)<0&&function(e){r.d(t,e,(function(){return a[e]}))}(n);var d,s=r("f0c5"),o=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],d);t["default"]=o.exports},d86e:function(e,t,r){"use strict";var i=r("35ac"),a=r.n(i);a.a},f0a5:function(e,t,r){"use strict";var i=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("96cf");var a=i(r("1da1")),n=r("802d"),d=i(r("c1eb")),s={components:{rfPickRegions:d.default},data:function(){return{addressData:{realname:"",mobile:"",address_details:"",address_name:"请选择地址",address:"",is_default:!1,province_id:"",city_id:"",area_id:""},btnLoading:!1,multiArray:[[],[],[]],multiIndex:[0,0,0],loading:!0}},onLoad:function(e){this.initData(e)},methods:{handleGetRegions:function(e){this.addressData.province_id=e.province_id,this.addressData.city_id=e.city_id,this.addressData.area_id=e.area_id},initData:function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(t){var r,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r="新增收货地址","edit"!==t.type){e.next=7;break}return r="编辑收货地址",e.next=5,this.getAddressDetail(t.id);case 5:e.next=8;break;case 7:setTimeout((function(){i.loading=!1}),1e3);case 8:this.manageType=t.type,uni.setNavigationBarTitle({title:r});case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAddressDetail:function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(t){var r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("".concat(n.addressDetail),{id:t}).then(function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.data;case 2:r.addressData=e.sent,r.loading=!1;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){r.loading=!1}));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),handleRealNameChange:function(e){this.addressData.realname=e.detail.value},bindAddressDetailsChange:function(e){this.addressData.address_details=e.detail.value},handleMobileChange:function(e){this.addressData.mobile=e.detail.value},switchChange:function(e){this.addressData.is_default=e.detail.value},confirm:function(){var e=this.addressData;e.realname?/^(?:(?:\+|00)86)?1[3-9]\d{9}$/.test(e.mobile)?(this.btnLoading=!0,"edit"===this.manageType?this.handleAddressUpdate(e):this.handleAddressCreate(e)):this.$mHelper.toast("请输入正确的手机号码"):this.$mHelper.toast("请填写收货人姓名")},handleAddressUpdate:function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(t){var r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.put("".concat(n.addressUpdate,"?id=").concat(t.id),{realname:t.realname,mobile:t.mobile,address_details:t.address_details,is_default:t.is_default?1:0,province_id:t.province_id,city_id:t.city_id,area_id:t.area_id}).then((function(){r.btnLoading=!1,r.$mHelper.toast("收货地址修改成功！"),r.$mRouter.back()})).catch((function(){r.btnLoading=!1}));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),handleAddressCreate:function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(t){var r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.post("".concat(n.addressCreate),{realname:t.realname,mobile:t.mobile,address_details:t.address_details,is_default:t.is_default?1:0,province_id:t.province_id,city_id:t.city_id,area_id:t.area_id}).then((function(){r.btnLoading=!1,r.$mHelper.toast("收货地址修改成功！"),r.$mRouter.back()})).catch((function(){r.btnLoading=!1}));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}};t.default=s},f661:function(e,t,r){"use strict";r.r(t);var i=r("0d21"),a=r.n(i);for(var n in i)["default"].indexOf(n)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(n);t["default"]=a.a}}]);